<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>btrfs on brimstone's blog</title><link>/tags/btrfs/</link><description>Recent content in btrfs on brimstone's blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 15 Feb 2021 00:00:00 +0000</lastBuildDate><atom:link href="/tags/btrfs/index.xml" rel="self" type="application/rss+xml"/><item><title>Raspberry PI BTRFS root</title><link>/projects/raspberry-pi-btrfs-root/</link><pubDate>Mon, 15 Feb 2021 00:00:00 +0000</pubDate><guid>/projects/raspberry-pi-btrfs-root/</guid><description>Conversion Boot the pi at least once with a normal flash of raspbian From the pi: Add btrfs to /etc/initramfs-tools/modules Run update-initramfs -u -k $(uname -r) Append /boot/config.txt to include initramfs initrd.img-$(uname -r) followkernel Replace ext4 with btrfs in /etc/fstab and /boot/cmdline.txt From a different system: btrfs-convert -L /dev/sd From the pi: btrfs subvol delete /ext2_saved btrfs fi defrag -r / btrfs balance start / Script #!/bin/bash set -euo pipefail grep -q &amp;#34;btrfs&amp;#34; /etc/initramfs-tools/modules || echo btrfs &amp;gt;&amp;gt; /etc/initramfs-tools/modules update-initramfs -u -k $(uname -r) sed -i &amp;#39;/followkernel/d&amp;#39; /boot/config.</description></item></channel></rss>